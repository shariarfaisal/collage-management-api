
type Institute{
  id: ID! @id
  name: String! @unique
  address: String!
  email: String! @unique
  username: String!
  password: String!
  departments: [Department!]! @relation(link: INLINE,name: "InstituteToDepartment")
  students: [Student!]! @relation(link: INLINE,name: "InstituteToStudent")
  sessions: [Session!]! @relation(link: INLINE,name: "InstituteToSession")
  teachers: [Teacher!]! @relation(link: INLINE,name: "InstituteToTeacher")
  classes: [Class!]! @relation(link: INLINE,name: "InstituteToClass")
  routines: [Routine!]! @relation(link: INLINE,name: "InstituteToRoutine")
  periods: [Period!]! @relation(link: INLINE,name: "InstituteToPeriod")
}

enum ShiftTypes{
  MORNING
  EVENING
}

type Department{
  id: ID! @id
  name: String!
  institute: Institute! @relation(name: "InstituteToDepartment")
  students: [Student!]! @relation(link: INLINE,name: "DepartmentToStudent")
  semesters: [Semester!]! @relation(link: INLINE,name: "DepartmentToSemester")
  bookLists: [BookList!]! @relation(link: INLINE,name: "DepartmentToBookList")
  routines: [Routine!]! @relation(link: INLINE,name: "DepartmentToRoutine")
  classes: [Class!]! @relation(link: INLINE,name: "DepartmentToClass")
}

type Session{
  id: ID! @id
  year: String! @unique
  students: [Student!]! @relation(link: INLINE,name: "SessionToStudent")
  routines: [Routine!]! @relation(link: INLINE,name: "SessionToRoutine")
}

type Student{
  id: ID! @id
  institute: Institute! @relation(name: "InstituteToStudent")
  name: String!
  email: String! @unique
  roll: Int! @unique
  reg: Int! @unique
  session: Session! @relation(name: "SessionToStudent")
  phone: String!
  shift: ShiftTypes!
  department: Department! @relation(name: "DepartmentToStudent")
  semester: Semester! @relation(name: "SemesterToStudent")
  password: String!
}

enum SemesterTypes{
  FIRST
  SECOND
  THIRD
  FOURTH
  FIFTH
  SIXTH
  SEVENTH
  EIGHT
}

type Semester{
  id: ID! @id
  institute: Institute! @relation(link: INLINE,name: "InstituteToSemester")
  name: SemesterTypes! @unique
  departments: [Department!]! @relation(name: "DepartmentToSemester")
  students: [Student!] @relation(link: INLINE,name: "SemesterToStudent")
  bookLists: [BookList!]! @relation(link: INLINE,name: "SemesterToBookList")
  routines: [Routine!]! @relation(link: INLINE,name: "SemesterToRoutine")
  classes:[Class!]! @relation(link: INLINE,name: "SemesterToClass")
}

type BookList{
  id: ID! @id
  department: Department! @relation(name: "DepartmentToBookList")
  semester: Semester! @relation(name: "SemesterToBookList")
  books:[Book!]! @relation(link: INLINE,name: "BookListToBook")
}

type Book{
  id: ID! @id
  name: String!
  code: String! @unique
  bookList: BookList! @relation(name: "BookListToBook")
  classes: [Class!]! @relation(link: INLINE,name: "BookToClass")
}

type Teacher{
  id: ID! @id
  institute: Institute! @relation(name: "InstituteToTeacher")
  name: String!
  email: String!
  address: String!
  position: String!
  phone: String!
  password: String!
  classes: [Class!]! @relation(link: INLINE,name: "TeacherToClass")
}

type Routine{
  id: ID! @id
  title: String!
  institute: Institute! @relation(name: "InstituteToRoutine")
  session: Session! @relation(name: "SessionToRoutine")
  semester: Semester! @relation(name: "SemesterToRoutine")
  department: Department! @relation(name: "DepartmentToRoutine")
  days: [DayInWeek!]! @relation(link: INLINE,name: "RoutineToDayInWeek")
}

type DayInWeek{
  id: ID! @id
  routine: Routine! @relation(name: "RoutineToDayInWeek")
  dayValue: Int!
  day: DayTypes! @unique
  classes: [Class!]! @relation(link: INLINE,name: "DayInWeekToClass")
}


type Class{
  id: ID! @id
  day: DayInWeek! @relation(name: "DayInWeekToClass")
  institute: Institute! @relation(name: "InstituteToClass")
  semester: Semester! @relation(name: "SemesterToClass")
  period: Period! @relation(link: INLINE,name: "ClassToPeriod")
  mentor: Teacher! @relation(name: "TeacherToClass")
  department: Department! @relation(name: "DepartmentToClass")
  subject: Book! @relation(name: "BookToClass")
}


type Period{
  id: ID! @id
  institute: Institute! @relation(name: "InstituteToPeriod")
  time: Int!
  startedAt: String!
  endAt: String!
}

enum DayTypes{
  SATURDAY
  SUNDAY
  MONDAY
  TUESDAY
  WEDNESDAY
  THURSDAY
  FRIDAY
}
